# Riemannian-rectangle-editor
Редактор риманова прямоугольника на python

---

## Принцип работы

На римановых многообразиях имееется так называемое экспоненциальное отображение, сопоставляющее элементу касательного пространства точку, расположенную на геодезической вдоль этого вектора на расстоянии, равной длине вектора. Обозначается $\exp v$.

В программе будет точка с наименованием $position$ - точка, откуда мы смотрим. Имеются два вектора из точки $position$, назовём $up$ и $right$ - вектор, смотрящий вперёд и вектор, смотрящий вправо.

Экран можно представить в координатах $x\in[-1;1]$ и $y\in[-1;1]$. Имеется поле цветов $color$ (функция, сопоставляющая каждой точке цвет). Каждому пикселю экрана будем сопоставлять цвет $color(\exp(y\cdot up + x\cdot right))$.

Для изменения цвета/метрики, выбираем мышью $x, y$ с экрана, а после брать точку $\exp(y\cdot up + x\cdot right)$ и менять цвет/метрику в этой точке.

---

## План продукта

1. Загружать, изменять и сохранять два файла: файл метрики и файл цвета
2. Иметь возможненость отображать с помощью вышеописанного метода на экран поле цвета.
3. Иметь возможность перемещаться по пространству и вращаться.

---

## Инструкция

### Начальное меню
При запуске файла вылезет окошко с 4 кнопками:
1. Загрузить поле цветов(BMP) (надо выбрать *.bmp картинку не очень большого размера, которая будет служить полем цветов на нашем римановом прямоугольнике)
2. Загрузить поле метрики(BMP) (надо выбрать *.bmp трёхцветную картинку габаритами, совпадающими с габаритами картинки, выбранной для поля цветов, при чём для метрики красный цвет будет служить $g_{xx}$ компонентой, зелёный $g_{xy}=g_{yx}$ компонентой, а синий $g_{yy}$ компонентой)
3. Создать новые(BMP) (если лень искать файлы для метрики и цвета, можно создать новые с помощью этой кнопки)
4. Открыть редактор (если метрика и цвет выбраны или заново созданы, можно открывать редактор, после открытия окна редактора, в начальном меню сбросятся значения метрики и цвета, можно будет выбирать/создавать новые и открывать сколько угодно окон редакторов)

### Редактор
После нажатия кнопки 4, откроется редактор, в котором будет область отрисовки(место, где выводится изображение), а ещё 3 кнопки и 2 ползунка:

#### Кнопки
1. Выбрать цвет (открывает панель выбора цвета рисования)
2. Сохранить изменения (сохраняет изменения в файлы, где исходно были цвет и метрика)
3. Закрыть (закрывает редактор)

#### Ползунки
1. Разрешение вычисления (изменяет параметр разрешения выводимого окна)
2. Шаги интегрирования (изменяет количество шагов при вычислении экспоненциального отображения)

#### Управление
1. Движение (осуществляется стандартно путём клавиш WSAD)
2. Поворот (стрелки вправо/влево)
3. Размер (колесо мыши, увеличивает/уменьшает размер видимой области)
4. Крашение (левая кнопка мыши, красит пиксель под мышью)
